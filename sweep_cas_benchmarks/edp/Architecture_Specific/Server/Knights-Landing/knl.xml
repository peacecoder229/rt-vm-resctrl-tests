<?xml version="1.0"?>
<root>
	<metric name="metric_CPU operating frequency (in GHz)">
        <event alias="a">CPU_CLK_UNHALTED.THREAD</event>
		<event alias="b">CPU_CLK_UNHALTED.REF_TSC</event>
		<constant alias="c">system.tsc_freq</constant>      
		<formula>(a/b*c)/1000000000</formula>
	</metric>

	<metric name="metric_CPU utilization %">
		<event alias="a">CPU_CLK_UNHALTED.THREAD</event>
		<event alias="b">TSC</event>
		<formula>100*a/b</formula>
	</metric>

    <metric name="metric_CPI">
        <throughput-metric-name>metric_cycles per txn</throughput-metric-name>
        <event alias="a">CPU_CLK_UNHALTED.THREAD</event>
        <event alias="b">INST_RETIRED.ANY</event>
        <formula>a/b</formula>
    </metric>

    <metric name="metric_% cycles uops retired">
        <event alias="a">UOPS_RETIRED.ALL</event>
        <event alias="b">CPU_CLK_UNHALTED.THREAD</event>
        <formula>100*a/b</formula>
    </metric>
	
	<metric name="metric_branch mispredict ratio">
		<event alias="a">BR_MISP_RETIRED.ALL_BRANCHES</event>
		<event alias="b">BR_INST_RETIRED.ALL_BRANCHES</event>
		<formula>a/b</formula>
	</metric>

	<metric name="metric_loads retired per instr">
        <throughput-metric-name>metric_loads retired per txn</throughput-metric-name>
		<event alias="a">MEM_UOPS_RETIRED.ALL_LOADS</event>
		<event alias="b">INST_RETIRED.ANY</event>
		<formula>a/b</formula>
	</metric>

	<metric name="metric_stores retired per instr">
        <throughput-metric-name>metric_stores retired per txn</throughput-metric-name>
		<event alias="a">MEM_UOPS_RETIRED.ALL_STORES</event>
		<event alias="b">INST_RETIRED.ANY</event>
		<formula>a/b</formula>
	</metric>	

	<metric name="metric_loads splits per instr">
        <throughput-metric-name>metric_loads split per txn</throughput-metric-name>
		<event alias="a">REHABQ.LD_SPLITS</event>
		<event alias="b">INST_RETIRED.ANY</event>
		<formula>a/b</formula>
	</metric>	

	<metric name="metric_stores splits per instr">
        <throughput-metric-name>metric_stores splits per txn</throughput-metric-name>
		<event alias="a">REHABQ.ST_SPLITS</event>
		<event alias="b">INST_RETIRED.ANY</event>
		<formula>a/b</formula>
	</metric>	

	<metric name="metric_loads blocked due to store forwards per instr">
        <throughput-metric-name>metric_loads blocked due to store forwards per txn</throughput-metric-name>
		<event alias="a">REHABQ.LD_BLOCK_ST_FORWARD</event>
		<event alias="b">INST_RETIRED.ANY</event>
		<formula>a/b</formula>
	</metric>	

	<metric name="metric_loads blocked due to store data not ready per instr">
        <throughput-metric-name>metric_loads blocked due to store data not ready per txn</throughput-metric-name>
		<event alias="a">REHABQ.LD_BLOCK_STD_NOTREADY</event>
		<event alias="b">INST_RETIRED.ANY</event>
		<formula>a/b</formula>
	</metric>	

	<metric name="metric_locks retired per instr">
        <throughput-metric-name>metric_locks retired per txn</throughput-metric-name>
		<event alias="a">REHABQ.LOCK</event>
		<event alias="b">INST_RETIRED.ANY</event>
		<formula>a/b</formula>
	</metric>	

	<metric name="metric_L1D demand data read MPI">
        <throughput-metric-name>metric_L1D demand data read misses per txn</throughput-metric-name>
		<event alias="a">MEM_UOPS_RETIRED.L1_MISS_LOADS</event>
		<event alias="b">INST_RETIRED.ANY</event>
		<formula>a/b</formula>
	</metric>
	
	<metric name="metric_L1D demand data read hits per instr">
        <throughput-metric-name>metric_L1D demand data read hits per txn</throughput-metric-name>
		<event alias="a">MEM_UOPS_RETIRED.L1_MISS_LOADS</event>
		<event alias="b">MEM_UOPS_RETIRED.ALL_LOADS</event>
		<event alias="c">INST_RETIRED.ANY</event>
		<formula>(b-a)/c</formula>
	</metric>

	<metric name="metric_L1I code read misses (w/ prefetches) per instr">
        <throughput-metric-name>metric_L1I code read misses (includes prefetches) per txn</throughput-metric-name>
		<event alias="a">ICACHE.MISSES</event>
		<event alias="b">INST_RETIRED.ANY</event>
		<formula>a/b</formula>
	</metric>

	<metric name="metric_L2 MPI (includes code+data+rfo w/ prefetches)">
        <throughput-metric-name>metric_L2 misses per txn (includes code+data+rfo w/ prefetches)</throughput-metric-name>
		<event alias="a">LONGEST_LAT_CACHE.MISS</event>
		<event alias="b">INST_RETIRED.ANY</event>
		<formula>a/b</formula>
	</metric>
	
	<metric name="metric_L2 demand data read hits per instr">
        <throughput-metric-name>metric_L2 demand data read hits per txn</throughput-metric-name>
		<event alias="a">MEM_UOPS_RETIRED.L2_HIT_LOADS</event>
		<event alias="b">INST_RETIRED.ANY</event>
		<formula>a/b</formula>
	</metric>

 	<metric name="metric_L2 demand data read MPI">
        <throughput-metric-name>metric_L2 demand data read misses per txn</throughput-metric-name>
		<event alias="a">MEM_UOPS_RETIRED.L2_MISS_LOADS</event>
		<event alias="b">INST_RETIRED.ANY</event>
		<formula>a/b</formula>
	</metric>

  	<metric name="metric_L2 read miss latency (in core clocks)">
		<event alias="a">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=OUTSTANDING</event>
		<event alias="b">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=ANY_RESPONSE</event>
		<formula>a/b</formula>
	</metric> 
	
	<metric name="metric_L2 any request that HITM in another tile (per instr)">
        <throughput-metric-name>metric_L2 any request that HITM in another tile per txn</throughput-metric-name>
		<event alias="a">OFFCORE_RESPONSE:request=ANY_REQUEST:response=L2_HIT_NEAR_TILE_M</event>
		<event alias="b">OFFCORE_RESPONSE:request=ANY_REQUEST:response=L2_HIT_FAR_TILE_M</event>
		<event alias="c">INST_RETIRED.ANY</event>
		<constant alias="threads_per_tile">system.sockets[0][0].size * 2</constant>
    	<formula>((a+b)/threads_per_tile)/c</formula> 
	</metric> 
	
		<metric name="metric_DTLB 1st level UTLB load MPI">
        <throughput-metric-name>metric_DTLB 1st level UTLB load misses per txn</throughput-metric-name>
		<event alias="a">MEM_UOPS_RETIRED.UTLB_MISS.LOAD</event>
		<event alias="b">INST_RETIRED.ANY</event>
		<formula>a/b</formula>
	</metric>

	<metric name="metric_DTLB 2nd level DTLB (load+store) MPI">
        <throughput-metric-name>metric_DTLB 2nd level DTLB (load+store) misses per txn</throughput-metric-name>
		<event alias="a">PAGE_WALKS.D_SIDE_WALKS</event>
		<event alias="b">INST_RETIRED.ANY</event>
		<formula>a/b</formula>
	</metric>

	<metric name="metric_page_walks DTLB (load+store) per instr">
        <throughput-metric-name>metric_page_walks DTLB (load+store) per txn</throughput-metric-name>
		<event alias="a">PAGE_WALKS.D_SIDE_WALKS</event>
		<event alias="b">INST_RETIRED.ANY</event>
		<formula>a/b</formula>
	</metric>

	<metric name="metric_page_walks ITLB per instr">
        <throughput-metric-name>metric_page_walks ITLB per txn</throughput-metric-name>
		<event alias="a">PAGE_WALKS.I_SIDE_WALKS</event>
		<event alias="b">INST_RETIRED.ANY</event>
		<formula>a/b</formula>
	</metric>

	<metric name="metric_DTLB miss latency (in core clks)">
		<event alias="a">PAGE_WALKS.D_SIDE_CYCLES</event>
		<event alias="b">PAGE_WALKS.D_SIDE_WALKS</event>
		<formula>a/b</formula>
	</metric>

	<metric name="metric_ITLB miss latency (in core clks)">
		<event alias="a">PAGE_WALKS.I_SIDE_CYCLES</event>
		<event alias="b">PAGE_WALKS.I_SIDE_WALKS</event>
		<formula>a/b</formula>
	</metric>

	<metric name="metric_total TLB (ITLB+DTLB) miss latency (in core clks)">
		<event alias="a">PAGE_WALKS.D_SIDE_CYCLES</event>
		<event alias="b">PAGE_WALKS.I_SIDE_CYCLES</event>
		<event alias="c">PAGE_WALKS.D_SIDE_WALKS</event>
		<event alias="d">PAGE_WALKS.I_SIDE_WALKS</event>
		<formula>(a+b)/(c+d)</formula>
	</metric>
	
	<metric name="metric_% cycles spent in DTLB page walks">
        <event alias="a">PAGE_WALKS.D_SIDE_CYCLES</event>
        <event alias="b">CPU_CLK_UNHALTED.THREAD</event>
        <formula>100*(a/b)</formula>
    </metric>

    <metric name="metric_% cycles spent in ITLB page walks">
        <event alias="a">PAGE_WALKS.I_SIDE_CYCLES</event>
        <event alias="b">CPU_CLK_UNHALTED.THREAD</event>
        <formula>100*(a/b)</formula>
    </metric>
	
	<metric name="metric_machine clears per instr">
        <throughput-metric-name>metric_machine clears per txn</throughput-metric-name>
		<event alias="a">MACHINE_CLEARS.ALL</event>
		<event alias="b">INST_RETIRED.ANY</event>
		<formula>a/b</formula>
	</metric>

        <metric name="metric_% cycles front-end bounded">
        <event alias="a">NO_ALLOC_CYCLES.NOT_DELIVERED</event>
        <event alias="b">CPU_CLK_UNHALTED.THREAD</event>
        <formula>100*(a/b)</formula>
    </metric>

    <metric name="metric_% cycles RS is full">
        <event alias="a">RS_FULL_STALL.ALL</event>
        <event alias="b">CPU_CLK_UNHALTED.THREAD</event>
        <formula>100*(a/b)</formula>
    </metric>

    <metric name="metric_% cycles spent in divider busy">
        <event alias="a">CYCLES_DIV_BUSY.ALL</event>
        <event alias="b">CPU_CLK_UNHALTED.THREAD</event>
        <formula>100*(a/b)</formula>
    </metric>

	<metric name="metric_packed simd uops executed per instr">
		<throughput-metric-name>metric_packed simd uops executed per txn</throughput-metric-name>
        <event alias="a">UOPS_RETIRED.PACKED_SIMD</event>
        <event alias="b">INST_RETIRED.ANY</event>
        <formula>(a/b)</formula>
    </metric>

	<metric name="metric_scalar simd uops executed per instr">
		<throughput-metric-name>metric_scalar simd uops executed per txn</throughput-metric-name>
        <event alias="a">UOPS_RETIRED.SCALAR_SIMD</event>
        <event alias="b">INST_RETIRED.ANY</event>
        <formula>(a/b)</formula>
    </metric>
	
	<metric name="metric_% packed simd uops executed per total simd uops">
        <event alias="a">UOPS_RETIRED.SCALAR_SIMD</event>
        <event alias="b">UOPS_RETIRED.PACKED_SIMD</event>
        <formula>100*(b/(a+b))</formula>
    </metric>
	
	<metric name="metric_% frontend bound">
		<event alias="a">NO_ALLOC_CYCLES.NOT_DELIVERED</event>
		<event alias="b">CPU_CLK_UNHALTED.THREAD</event>
		<formula>100*a/b</formula>
	</metric>

	<metric name="metric_% retiring">
		<event alias="a">UOPS_RETIRED.ALL</event>
		<event alias="b">CPU_CLK_UNHALTED.THREAD</event>
		<formula>100*(a/(2*b))</formula>
	</metric>
	
	<metric name="metric_% mispredicts">
		<event alias="a">NO_ALLOC_CYCLES.MISPREDICTS</event>
		<event alias="b">CPU_CLK_UNHALTED.THREAD</event>
		<formula>100*(a/b)</formula>
	</metric>
	
	<metric name="metric_% backend bound">
		<event alias="a">UOPS_RETIRED.ALL</event>
		<event alias="b">NO_ALLOC_CYCLES.MISPREDICTS</event>
		<event alias="c">NO_ALLOC_CYCLES.NOT_DELIVERED</event>
		<event alias="d">CPU_CLK_UNHALTED.THREAD</event>
		<formula>100*((2*d)-(a+2*b+2*c))/(2*d)</formula>
	</metric>


	<metric name="metric_% of  any request that HITM in another tile ">
        <event alias="a">OFFCORE_RESPONSE:request=ANY_REQUEST:response=L2_HIT_NEAR_TILE_E</event>
		<event alias="b">OFFCORE_RESPONSE:request=ANY_REQUEST:response=L2_HIT_NEAR_TILE_F</event>
		<event alias="c">OFFCORE_RESPONSE:request=ANY_REQUEST:response=L2_HIT_NEAR_TILE_M</event>
		<event alias="d">OFFCORE_RESPONSE:request=ANY_REQUEST:response=L2_HIT_FAR_TILE_M</event>
		<event alias="e">OFFCORE_RESPONSE:request=ANY_REQUEST:response=L2_HIT_FAR_TILE_E_F</event>
		<event alias="f">OFFCORE_RESPONSE:request=ANY_REQUEST:response=DDR</event>
		<event alias="g">OFFCORE_RESPONSE:request=ANY_REQUEST:response=MCDRAM</event>
		<formula>100*(c+d)/(a+b+c+d+e+f+g)</formula>
	</metric> 

	<metric name="metric_L2 any request that HIT in another tile (per instr)">
        <throughput-metric-name>metric_L2 any request that HIT in another tile per txn</throughput-metric-name>
		<event alias="a">OFFCORE_RESPONSE:request=ANY_REQUEST:response=L2_HIT_NEAR_TILE_E</event>
		<event alias="b">OFFCORE_RESPONSE:request=ANY_REQUEST:response=L2_HIT_NEAR_TILE_F</event>
		<event alias="c">OFFCORE_RESPONSE:request=ANY_REQUEST:response=L2_HIT_NEAR_TILE_M</event>
		<event alias="d">OFFCORE_RESPONSE:request=ANY_REQUEST:response=L2_HIT_FAR_TILE_M</event>
		<event alias="e">OFFCORE_RESPONSE:request=ANY_REQUEST:response=L2_HIT_FAR_TILE_E_F</event>
		<constant alias="threads_per_tile">system.sockets[0][0].size * 2</constant>
		<event alias="f">INST_RETIRED.ANY</event>
    	<formula>((a+b+c+d+e)/threads_per_tile)/f</formula> 
	</metric> 

	<metric name="metric_% of any request that HIT in another tile ">
        <event alias="a">OFFCORE_RESPONSE:request=ANY_REQUEST:response=L2_HIT_NEAR_TILE_E</event>
		<event alias="b">OFFCORE_RESPONSE:request=ANY_REQUEST:response=L2_HIT_NEAR_TILE_F</event>
		<event alias="c">OFFCORE_RESPONSE:request=ANY_REQUEST:response=L2_HIT_NEAR_TILE_M</event>
		<event alias="d">OFFCORE_RESPONSE:request=ANY_REQUEST:response=L2_HIT_FAR_TILE_M</event>
		<event alias="e">OFFCORE_RESPONSE:request=ANY_REQUEST:response=L2_HIT_FAR_TILE_E_F</event>
		<event alias="f">OFFCORE_RESPONSE:request=ANY_REQUEST:response=DDR</event>
		<event alias="g">OFFCORE_RESPONSE:request=ANY_REQUEST:response=MCDRAM</event>
		<formula>100*(a+b+c+d+e)/(a+b+c+d+e+f+g)</formula>
	</metric> 

	<metric name="metric_L2 demand RFO misses that HIT in another tile">
        <throughput-metric-name>metric_L2 demand RFO misses that HIT in another tile per txn</throughput-metric-name>
		<event alias="a">OFFCORE_RESPONSE:request=DEMAND_RFO:response=L2_HIT_NEAR_TILE_E</event>
		<event alias="b">OFFCORE_RESPONSE:request=DEMAND_RFO:response=L2_HIT_NEAR_TILE_F</event>
		<event alias="c">OFFCORE_RESPONSE:request=DEMAND_RFO:response=L2_HIT_NEAR_TILE_M</event>
		<event alias="d">OFFCORE_RESPONSE:request=DEMAND_RFO:response=L2_HIT_FAR_TILE_M</event>
		<event alias="e">OFFCORE_RESPONSE:request=DEMAND_RFO:response=L2_HIT_FAR_TILE_E_F</event>
		<constant alias="threads_per_tile">system.sockets[0][0].size * 2</constant>
		<event alias="f">INST_RETIRED.ANY</event>
    	<formula>((a+b+c+d+e)/threads_per_tile)/f</formula>  
	</metric>

	<metric name="metric_% of demand RFO misses that HIT in another tile">
        <event alias="a">OFFCORE_RESPONSE:request=DEMAND_RFO:response=L2_HIT_NEAR_TILE_E</event>
		<event alias="b">OFFCORE_RESPONSE:request=DEMAND_RFO:response=L2_HIT_NEAR_TILE_F</event>
		<event alias="c">OFFCORE_RESPONSE:request=DEMAND_RFO:response=L2_HIT_NEAR_TILE_M</event>
		<event alias="d">OFFCORE_RESPONSE:request=DEMAND_RFO:response=L2_HIT_FAR_TILE_M</event>
		<event alias="e">OFFCORE_RESPONSE:request=DEMAND_RFO:response=L2_HIT_FAR_TILE_E_F</event>
		<event alias="f">OFFCORE_RESPONSE:request=DEMAND_RFO:response=DDR</event>
		<event alias="g">OFFCORE_RESPONSE:request=DEMAND_RFO:response=MCDRAM</event>
    	<formula>100*(a+b+c+d+e)/(a+b+c+d+e+f+g)</formula>
	</metric> 

	<metric name="metric_L2 of demand RFO misses that HITM in another tile">
		<throughput-metric-name>metric_L2 demand RFO misses that HITM in another tile per txn</throughput-metric-name>
		<event alias="a">OFFCORE_RESPONSE:request=DEMAND_RFO:response=L2_HIT_NEAR_TILE_M</event>
		<event alias="b">OFFCORE_RESPONSE:request=DEMAND_RFO:response=L2_HIT_FAR_TILE_M</event>
		<constant alias="threads_per_tile">system.sockets[0][0].size * 2</constant>
		<event alias="c">INST_RETIRED.ANY</event>
		<formula>((a+b)/threads_per_tile)/c</formula>
	</metric>
	
	<metric name="metric_% of demand RFO misses that HITM in another tile">
        <event alias="a">OFFCORE_RESPONSE:request=DEMAND_RFO:response=L2_HIT_NEAR_TILE_E</event>
		<event alias="b">OFFCORE_RESPONSE:request=DEMAND_RFO:response=L2_HIT_NEAR_TILE_F</event>
		<event alias="c">OFFCORE_RESPONSE:request=DEMAND_RFO:response=L2_HIT_NEAR_TILE_M</event>
		<event alias="d">OFFCORE_RESPONSE:request=DEMAND_RFO:response=L2_HIT_FAR_TILE_M</event>
		<event alias="e">OFFCORE_RESPONSE:request=DEMAND_RFO:response=L2_HIT_FAR_TILE_E_F</event>
		<event alias="f">OFFCORE_RESPONSE:request=DEMAND_RFO:response=DDR</event>
		<event alias="g">OFFCORE_RESPONSE:request=DEMAND_RFO:response=MCDRAM</event>
    	<formula>100*(c+d)/(a+b+c+d+e+f+g)</formula>
	</metric>

	<metric name="metric_% of demand data reads that HIT in another tile">
		<event alias="a">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_NEAR_TILE_E</event>
		<event alias="b">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_NEAR_TILE_F</event>
		<event alias="c">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_NEAR_TILE_M</event>
		<event alias="d">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_FAR_TILE_M</event>
		<event alias="e">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_FAR_TILE_E_F</event>
		<event alias="f">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=DDR</event>
		<event alias="g">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=MCDRAM</event>
		<formula>100*(a+b+c+d+e)/(a+b+c+d+e+f+g)</formula>
	</metric>

	<metric name="metric_L2 demand data reads that HIT in another tile per instr">
		<throughput-metric-name>metric_L2 demand data reads that HIT in another tile per txn</throughput-metric-name>
		<event alias="a">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_NEAR_TILE_E</event>
		<event alias="b">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_NEAR_TILE_F</event>
		<event alias="c">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_NEAR_TILE_M</event>
		<event alias="d">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_FAR_TILE_M</event>
		<event alias="e">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_FAR_TILE_E_F</event>
		<constant alias="threads_per_tile">system.sockets[0][0].size * 2</constant>
		<event alias="f">INST_RETIRED.ANY</event>
		<formula>((a+b+c+d+e)/threads_per_tile)/(f)</formula>
	</metric>
 	
	<metric name="metric_% of demand data reads that HITM in another tile">
		<event alias="a">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_NEAR_TILE_E</event>
		<event alias="b">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_NEAR_TILE_F</event>
		<event alias="c">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_NEAR_TILE_M</event>
		<event alias="d">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_FAR_TILE_M</event>
		<event alias="e">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_FAR_TILE_E_F</event>
		<event alias="f">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=DDR</event>
		<event alias="g">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=MCDRAM</event>
		<formula>100*(c+d)/(a+b+c+d+e+f+g)</formula>
	</metric>

	<metric name="metric_L2 of demand data reads that HITM in another tile per instr">
		<throughput-metric-name>metric_L2 demand data reads that HIT in another tile per txn</throughput-metric-name>
		<event alias="a">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_NEAR_TILE_M</event>
		<event alias="b">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_FAR_TILE_M</event>
		<constant alias="threads_per_tile">system.sockets[0][0].size * 2</constant>
		<event alias="c">INST_RETIRED.ANY</event>
		<formula>((a+b)/threads_per_tile)/(c)</formula>
	</metric>	
	
	<metric name="metric_% of demand data reads satisfied by DDR">
		<event alias="a">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_NEAR_TILE_E</event>
		<event alias="b">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_NEAR_TILE_F</event>
		<event alias="c">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_NEAR_TILE_M</event>
		<event alias="d">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_FAR_TILE_M</event>
		<event alias="e">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_FAR_TILE_E_F</event>
		<event alias="f">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=DDR</event>
		<event alias="g">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=MCDRAM</event>
		<formula>100*(f)/(a+b+c+d+e+f+g)</formula>
	</metric>	

		<metric name="metric_% of demand data reads satisfied by MCDRAM">
		<event alias="a">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_NEAR_TILE_E</event>
		<event alias="b">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_NEAR_TILE_F</event>
		<event alias="c">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_NEAR_TILE_M</event>
		<event alias="d">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_FAR_TILE_M</event>
		<event alias="e">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=L2_HIT_FAR_TILE_E_F</event>
		<event alias="f">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=DDR</event>
		<event alias="g">OFFCORE_RESPONSE:request=DEMAND_DATA_RD:response=MCDRAM</event>
		<formula>100*(g)/(a+b+c+d+e+f+g)</formula>
	</metric>

    <metric name="metric_ddr bandwidth read (CPU traffic only) (MB/sec)">
        <event alias="a">UNC_M_CAS_COUNT.RD</event>
        <formula>a*64/1000000</formula>
    </metric>

    <metric name="metric_ddr bandwidth write (CPU traffic only) (MB/sec)">
        <event alias="a">UNC_M_CAS_COUNT.WR</event>
        <formula>a*64/1000000</formula>
    </metric>

    <metric name="metric_ddr bandwidth total (CPU traffic only) (MB/sec)">
        <event alias="a">UNC_M_CAS_COUNT.RD</event>
        <event alias="b">UNC_M_CAS_COUNT.WR</event>
        <formula>(a+b)*64/1000000</formula>
    </metric>
	
	  <metric name="metric_mcdram bandwidth read (CPU traffic only) (MB/sec)">
        <event alias="a">UNC_E_RPQ_INSERTS</event>
        <formula>a*64/1000000</formula>
    </metric>

    <metric name="metric_mcdram bandwidth write (CPU traffic only) (MB/sec)">
        <event alias="a">UNC_E_WPQ_INSERTS</event>
        <formula>a*64/1000000</formula>
    </metric>

    <metric name="metric_mcdram bandwidth total (CPU traffic only) (MB/sec)">
        <event alias="a">UNC_E_RPQ_INSERTS</event>
        <event alias="b">UNC_E_WPQ_INSERTS</event>
        <formula>(a+b)*64/1000000</formula>
    </metric>

</root>